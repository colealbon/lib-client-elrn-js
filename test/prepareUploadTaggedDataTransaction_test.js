/*eslint-env node, mocha, es6 */
process.env.NODE_ENV = 'test';
const chai = require('chai');
const assert = chai.assert;
import Elrn from '..';
const config = require(__dirname + '/config/options.js');
const elrnClient = new Elrn(config)

suite('prepareUploadTaggedDataTransaction', function() {

    test('prepareUploadTaggedDataTransaction returns a known transaction json', function() {
        const data = 'data:image/png;base64,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'
        const publicKey = '4de2f96aaf8ab20508b9c1265f3efc001c811d8d0bb054bc0b8def3fe62dce08'
        const name = 'elrn-profile-photo'
        return elrnClient.prepareUploadTaggedDataTransaction(publicKey, data, name)
        .then((result) => {
            assert.deepEqual(result.transactionJSON.attachment.name, name);
            return;
        })
        .catch((error) => {
            assert.equal(`unexpected error`, error.toString())
            return;
        })
    })
});
